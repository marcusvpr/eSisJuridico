<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>MPXDS | Sistema #{mpSeguranca.nomeAplicativo}</title>
	<meta name="viewport" 
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        
    <h:outputScript name="js/login.js" library="sentinel-layout" />
    <h:outputStylesheet name="css/font-icon-layout.css" library="sentinel-layout" />
    <h:outputStylesheet name="css/sentinel-layout.css" library="sentinel-layout" />
    <h:outputStylesheet name="css/core-layout.css" library="sentinel-layout" />
</h:head>

<f:metadata>
   	<f:viewParam name="dummy" />
   	<f:viewParam name="idI" value="#{mpLoginBean.idI}" />
   	<f:viewParam name="idU" value="#{mpLoginBean.idU}" />
   	<f:event listener="#{mpLoginBean.preRender}" type="preRenderView" />
</f:metadata>

<h:body class="fontRegular login-back white-back">
    
    <div class="Container">
      	<div class="EmptyBox10"></div>
      	<div class="EmptyBox10"></div>
        <div class="Container80 MaxWid500 Fnone MarAuto TexAlCenter PaddingTopPercent5">
            <a href="" id="login-logo">
                <h:graphicImage name="mpxds_logo5_menor.png" styleClass="Fleft" library="images"/>
                <span class="Fs30 FontTitilliumSemiBoldItalic Fleft"><span class="softblue"> 
                				Sistema</span><span class="hardblue"> #{mpSeguranca.nomeAplicativo}</span></span>
            </a>
        </div>

        <!-- LOGIN BOX COVER START -->
        <div class="Container80 MaxWid500 white-back Fnone MarAuto BordRad10" id="login-box">
            <div class="EmptyBox10"></div>
            <div class="Container">
                <div role="1" class=
               		"Container50 TexAlCenter Animated05 BoxSizeBorder TabBtn left TabBtnActiveLeft">
                    <div class="Container80 Fnone MarAuto FontBold"><i class="icon-lock"></i> 
                    																Login Seguro</div>
                </div>
                <div role="2" class="Container50 TexAlCenter Animated05 BoxSizeBorder TabBtn right">
                    <div class="Container80 Fnone MarAuto FontBold"><i class="icon-key-1"></i>
                    															 Criar Nova Conta</div>
                </div>

                <div class="Container90 Fnone MarAuto TexAlCenter TabContent OvHidden" id="TAB1">
    			  <h:form id="frmLogin" prependId="false">
    			
					<p:growl id="messages" sticky="true" autoUpdate="true" life="300" />
					
                    <div class="EmptyBox20"></div>
                    <p:inputText placeholder="Usuário ou E-mail" id="j_username" required="true"
                    								requiredMessage="Favor entre o Usuário/E-mail."
                    								value="#{mpLoginBean.loginEmail}"
                    								styleClass="Container80 Fnone MarAuto Fs18">
						<p:ajax event="change" process="@this" update="ambiente"
													listener="#{mpLoginBean.trataVisivelTenant}" />
					</p:inputText>
                    								
                    <div class="EmptyBox10"></div>
                    <p:password placeholder="Senha" id="j_password" required="true"
                    					requiredMessage="Favor entre a Senha."
                     					styleClass="Container80 Fnone MarAuto Fs18" feedback="false"/>
                     					    				
                    <div class="EmptyBox20"></div>
            		<h:panelGroup id="pgAmbienteIdX">
            			<p:outputLabel value="Usuário Ambiente ? " 
            											styleClass="Container80 Fnone MarAuto Fs18"/>
						
        				<p:selectBooleanButton value="#{mpLoginBean.indLoginAmbiente}" 
        										onLabel="Sim" offLabel="Não" onIcon="ui-icon-check"
        					 					offIcon="ui-icon-close" style="width:90px">
            				<p:ajax event="change" process="@this"
            									update="pgAmbienteIdX"
            									 listener="#{mpLoginBean.trataVisivelTenant}" />
        				</p:selectBooleanButton>						
						
            			<h:panelGroup id="ambienteIdX" rendered="#{mpLoginBean.indLoginAmbiente}">
            				<p:spacer width="5" />
                    		<p:inputText placeholder="Informe Ambiente" id="ambiente"
                    									value="#{mpLoginBean.loginAmbiente}"
                    									styleClass="Container20 Fnone MarAuto Fs16"/>
            			</h:panelGroup>
            		</h:panelGroup>
                     					
                    <div class="EmptyBox10"></div>
					<p:commandButton value="Entrar no Sistema" ajax="false" styleClass="Fs16"
						 											action="#{mpLoginBean.login}" />
                    <div class="EmptyBox10"></div>
                   	<p:button value="Fale Conosco" styleClass="Fs16" 
                    					href="https://#{mpSeguranca.freshdeskURL}"></p:button>
                    <div class="EmptyBox10"></div>
					<p:outputLabel value="#{mpLoginBean.mensagemSistema}"
					 						style="font-size:18px; color:black; font-weight:bold;" />
                    <div class="EmptyBox10"></div>
                   </h:form>
                </div>

                <div class="Container90 Fnone MarAuto DispNone TexAlCenter TabContent OvHidden" 
                																			id="TAB2">
    			  <h:form id="frmRegistro" prependId="false">

                    <div class="EmptyBox5"></div>
					<h:panelGroup>
                    	<p:inputText id="usuarioRegistro" placeholder="Usuário" required="true"
                    									requiredMessage="Favor entre o Usuário."
                    									value="#{mpLoginBean.usuarioRegistro}"
                    									rendered="#{mpLoginBean.indVisivelRegistro}"
                    									styleClass="Container80 Fnone MarAuto Fs18"/>
						<p:tooltip for="usuarioRegistro" value="Usuário (Ex.: fulano )" />
					</h:panelGroup>
                    <div class="EmptyBox10"></div>
					<h:panelGroup>
                    	<p:inputText id="nomeRegistro" placeholder="Nome" required="true"
                    									requiredMessage="Favor entre o Nome."
                    									value="#{mpLoginBean.nomeRegistro}"
                    									rendered="#{mpLoginBean.indVisivelRegistro}"
                    									styleClass="Container80 Fnone MarAuto Fs18"/>
						<p:tooltip for="nomeRegistro" value="Nome Usuário (Ex.: Fulano da Silva )" />
					</h:panelGroup>
                    <div class="EmptyBox10"></div>
					<h:panelGroup>
                    	<p:inputText id="emailRegistro" type="email" placeholder="Seu Endereço de Email" 
                    							required="true" value="#{mpLoginBean.emailRegistro}"
                    							requiredMessage="Favor entre o E-mail."
												validatorMessage="E-mail formato Inválido!"
                    							styleClass="Container80 Fnone MarAuto Fs18">
							<f:validateRegex pattern=
							"[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
						</p:inputText>
						<p:tooltip for="emailRegistro" value="Email Usuário (Ex.: fulano@provedor.com.br )" />
					</h:panelGroup>
                    <div class="EmptyBox10"></div>
					<h:panelGroup>
                    	<p:password id="senhaRegistro" placeholder="Senha" match="senhaConfirmaRegistro"
                    					required="true" value="#{mpLoginBean.senhaRegistro}"
                    					requiredMessage="Favor entre a Senha."
                    					rendered="#{mpLoginBean.indVisivelRegistro}"
                     					styleClass="Container80 Fnone MarAuto Fs18" feedback="true"/>
						<p:tooltip for="senhaRegistro" value="Senha (Ex.: @Letras123 )" />
					</h:panelGroup>
                    <div class="EmptyBox10"></div>
					<h:panelGroup>
                    	<p:password id="senhaConfirmaRegistro" placeholder="Confirma Senha"
                					required="true" value="#{mpLoginBean.senhaConfirmaRegistro}" 
                    				requiredMessage="Favor entre a Senha Confirma."
                    				rendered="#{mpLoginBean.indVisivelRegistro}"
                					styleClass="Container80 Fnone MarAuto Fs18" feedback="false"/>
						<p:tooltip for="senhaConfirmaRegistro" value="Confirma Senha" />
					</h:panelGroup>
                    <div class="EmptyBox10"></div>
                    <div class="Container85 Fnone MarAuto softgray">                    	
                        <p:selectBooleanCheckbox id="indEsqueciSenha"
                       							value="#{mpLoginBean.indEsqueciSenha}" 
                         						styleClass="Fleft" itemLabel="Esqueci a senha">
    	    				<p:ajax event="change" process="@this" update=":frmRegistro"
        		   								listener="#{mpLoginBean.trataEsqueciSenha}"
        		   								ignoreAutoUpdate="true" />
                        </p:selectBooleanCheckbox>
						<p:spacer width="5px" />
        				<h:panelGroup rendered="#{mpLoginBean.indVisivelRegistro}">
                       		<p:selectBooleanCheckbox id="indAceiteTermo" required="true"
                       				requiredMessage="Favor aceitar a Política do Site."
                       				value="#{mpLoginBean.indAceiteTermo}" 
                       				styleClass="Fleft" itemLabel="Eu Aceito a Política do Site"/>
                      		<a href="./mpPageTermoPolitica.xhtml" target="_blank"
                      									class="DispInlBlock Fright Fs8 MarRight20">
                      			<i class="icon-attention hardblue">
                          			Link da Política do Site
                        		</i>
                    		</a>
        				</h:panelGroup>
                    </div>
                    <div class="EmptyBox10"></div>
					<p:commandButton value="Envia Requisição de Acesso" ajax="false" 
										styleClass="Fs12" action="#{mpLoginBean.enviaRegistro}" />
                    <div class="EmptyBox10"></div>
                  </h:form>
                </div>
            </div>
        </div>
    </div>
    <!-- LOGIN BOX COVER END -->
    
    <!-- https://analytics.google.com -->
	<script>
  		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  		ga('create', 'UA-101917588-1', 'auto');
  		ga('send', 'pageview');
	</script>    
    
</h:body>

</html>